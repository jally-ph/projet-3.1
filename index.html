<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="utf-8">
	<title>Projet 3</title>
	
	<!-- bootstrap - Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
	<!-- css -->
	<link rel="stylesheet" type="text/css" href="public/css/style.css">
	<!-- jQuery -->
	<script type="text/javascript" src="public/js/script.js"></script>
	<script type="text/javascript" src="public/js/jquery-3.4.1.js"></script>
	<!-- mapbox -->
	<script src='https://api.mapbox.com/mapbox-gl-js/v1.3.1/mapbox-gl.js'></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v1.3.1/mapbox-gl.css' rel='stylesheet' />
	<!-- fontawesome -->
    <script src="https://kit.fontawesome.com/7e70710549.js"></script>

	<!-- mes liens -->
    <script type="text/javascript" src="public/js/mapTest.js"></script>

</head>
<body>
	<header>
		<div id="logoHeader">
			<!--display none on h1 -->
			<h1>Projet 3</h1>
			<img src="public/img/logoCyclick.png">
		</div>

		<nav>
			<ul class="nav nav-pills">
			  <li role="presentation" ><a href="#">Accueil</a></li>
			  <li role="presentation" ><a href="#diapo">Diaporama</a></li>
			  <li role="presentation" ><a href="#carte">Carte</a></li>
			</ul>
		</nav>	
	</header>



	
	<section id="section1">
		<h2 id="diapo"><i class="far fa-lightbulb"></i> Diaporama</h2>

					<!--les photos-->
		<div id="slider">

		    <div class="sliderImg">
		      <img src="https://images.unsplash.com/photo-1571333248014-4f269ff959a6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80" alt="photo du slider" id="img1" >
		      <p class="pImg">1/4</p>
		    </div>
		    
		    <div class="sliderImg">
		      <img src="https://images.unsplash.com/photo-1541363122578-913526cf378d?ixlib=rb-1.2.1&auto=format&fit=crop&w=967&q=80" alt="photo du slider" id="img2" >
		      <p class="pImg">2/4</p>
		    </div>

		    <div class="sliderImg">
		      <img src="https://images.unsplash.com/photo-1569515501972-26d4f39c8a93?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1052&q=80" alt="photo du slider" id="img3" >
		      <p class="pImg">3/4</p>
		    </div>
		    
		    <div class="sliderImg">
		      <img src="https://images.unsplash.com/photo-1547410398-dbbdb02db33a?ixlib=rb-1.2.1&auto=format&fit=crop&w=967&q=80" alt="photo du slider" id="img4" >
		      <p class="pImg">4/4</p>
		    </div>
		    

					<!--flèches-->
			<button class="sliderBtn" id="chevronLeft"><i class="fas fa-chevron-left "></i></button>
			<button class="sliderBtn" id="chevronRight"><i class="fas fa-chevron-right "></i></button>

			<button class="sliderBtn" id="play"><i class="fas fa-play fa-3x"></i></button>
			<button class="sliderBtn" id="pause"><i class="fas fa-pause fa-3x"></i></button>
		    
		</div>
	</section>




	<section id="section2">
		<h2 id="carte"><i class="fas fa-map-marked-alt"></i> Carte</h2>

		<div id='map' style='width: 400px; height: 300px;'></div>
		<script>
			//si on met tt ça dans une class
		  mapboxgl.accessToken = 'pk.eyJ1IjoiamFsbHktcGgiLCJhIjoiY2swdGMwNHZjMGFzZDNicGU2bHVhODkwbCJ9.T83X_8s7_gWjdH67B7Zcew';
		  var map = new mapboxgl.Map({
		    container: 'map',
		    style: 'mapbox://styles/mapbox/streets-v11',
		    //coordonnées Orléans
		    center: [1.905975, 47.900959],
			zoom: 4
		   });
		</script>
		

	</section>



	<footer id="footer">
		<p>Site réalisé par Jally Phejar 2019 - 2020</p>
	</footer>

	
	<script type="text/javascript" >
		
		//function pr afficher 1 img
		let plus = 0;
		change();

		function change() {
		  let i;
		  let slides = document.getElementsByClassName("sliderImg");
		  for (i = 0; i < slides.length; i++) {
		    slides[i].setAttribute("style", "z-index: 1");
		  }
		  plus++;
		  if (plus> slides.length) {plus = 1}
		  slides[plus-1].setAttribute("style", "z-index: 2");
		  let x = setTimeout(change, 5000); 
		  
		  
		  
		  if ($("#pause").click(function(){
		    clearTimeout(x); 
		    let play = document.getElementById("play");
		    play.setAttribute("style", "z-index: 5");
		  }));
		  
		}



		if ($("#play").click(function() { 
		  play.setAttribute("style", "z-index: 3");
		  setTimeout(change, 3000);
		   }));



		// Next/previous controls
		function plusSlides(n) {
		  console.log(plus + " prems");
		  plus+=n;
		  console.log(plus + " deuz");
		}

		  if ($("#chevronRight").click(function(){
		    plusSlides(0);
		    change();
		}));


		if ($("#chevronLeft").click(function(){
		    plusSlides(-2);
		    if (plus<0) {plus=3}
		}));


		//avec clavier
		document.addEventListener("keydown", function(event) {
		 if (event.which===37){
		   plusSlides(-2);
		    if (plus<0) {plus=3}
		  }
		  if (event.which===39){
		    plusSlides(0);
		    change();
		  }
		   /*console.log(event.which);*/
		})

		</script>
	  

</body>
</html>